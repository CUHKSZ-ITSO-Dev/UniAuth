{"openapi":"3.0.0","components":{"schemas":{"uniauth-gf.api.auth.v1.GetAllActionsReq":{"properties":{},"type":"object"},"uniauth-gf.api.auth.v1.GetAllActionsRes":{"properties":{"actions":{"description":"Actions","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.GetAllDomainsReq":{"properties":{},"type":"object"},"uniauth-gf.api.auth.v1.GetAllDomainsRes":{"properties":{"domains":{"description":"Domains","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.FilterGroupingsReq":{"description":"根据给定的条件，返回 Grouping Polices 角色继承关系。留空的字段（传空 Array）将被忽略。","properties":{"users":{"description":"Upn 列表","example":"['122020255@link.cuhk.edu.cn', 'sadt@cuhk.edu.cn']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"roles":{"description":"Roles 列表","example":"['student', 'staff']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"domains":{"description":"Domains 列表","example":"['production', 'test']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.FilterGroupingsRes":{"properties":{"groups":{"format":"[][]string","items":{"format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.GetAllObjectsReq":{"properties":{},"type":"object"},"uniauth-gf.api.auth.v1.GetAllObjectsRes":{"properties":{"objects":{"description":"Objects","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.AddPoliciesReq":{"properties":{"polices":{"description":"Polices","format":"[][]string","items":{"format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"type":"array"},"skip":{"default":true,"description":"开启时，当规则已经存在时自动跳过，不返回错误；否则会返回错误，并回退所有操作","format":"bool","type":"boolean"}},"required":["polices"],"type":"object"},"uniauth-gf.api.auth.v1.AddPoliciesRes":{"properties":{},"type":"object"},"uniauth-gf.api.auth.v1.DeletePoliciesReq":{"description":"删除 Policies。原子性操作，当规则中有一条和数据库中的规则不匹配，立即回滚所有操作并返回错误。","properties":{"polices":{"description":"Polices","format":"[][]string","items":{"format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"type":"array"}},"required":["polices"],"type":"object"},"uniauth-gf.api.auth.v1.DeletePoliciesRes":{"properties":{},"type":"object"},"uniauth-gf.api.auth.v1.EditPolicyReq":{"description":"编辑 Policy。需要提供老的 Policy。\u003cbr\u003e注意顺序是 Sub Dom Obj Act。","properties":{"oldPolicy":{"description":"旧的 Policy","example":"['alice','chat_production','platform','entry']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"newPolicy":{"description":"新的 Policy","example":"[\"alice\",\"chat_production\",\"platform\",\"entry/no\"]","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"required":["oldPolicy","newPolicy"],"type":"object"},"uniauth-gf.api.auth.v1.EditPolicyRes":{"properties":{},"type":"object"},"uniauth-gf.api.auth.v1.FilterPoliciesReq":{"description":"根据给定的条件，返回Policy。留空的字段（传空 Array）将被忽略。","properties":{"subs":{"description":"Subjects 列表","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"doms":{"description":"Domains 列表","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"objs":{"description":"Objects 列表","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"acts":{"description":"Actions 列表","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.FilterPoliciesRes":{"properties":{"policies":{"format":"[][]string","items":{"format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.GetAllRolesReq":{"properties":{},"type":"object"},"uniauth-gf.api.auth.v1.GetAllRolesRes":{"properties":{"roles":{"description":"Roles","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.GetAllSubjectsReq":{"properties":{},"type":"object"},"uniauth-gf.api.auth.v1.GetAllSubjectsRes":{"properties":{"subjects":{"description":"Subjects","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.CheckReq":{"description":"给定sub obj act dom，查询是否有权限。","properties":{"sub":{"description":"对象","example":"sadt@cuhk.edu.cn","format":"string","type":"string"},"dom":{"description":"域","example":"production","format":"string","type":"string"},"obj":{"description":"资源","example":"platform","format":"string","type":"string"},"act":{"description":"动作","example":"entry","format":"string","type":"string"}},"required":["sub","dom","obj","act"],"type":"object"},"uniauth-gf.api.auth.v1.CheckRes":{"properties":{"allow":{"format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.auth.v1.CheckAndExplainReq":{"description":"给定sub obj act dom，如果允许，返回使其允许的规则。","properties":{"sub":{"description":"对象","example":"sadt@cuhk.edu.cn","format":"string","type":"string"},"dom":{"description":"域","example":"production","format":"string","type":"string"},"obj":{"description":"资源","example":"platform","format":"string","type":"string"},"act":{"description":"动作","example":"entry","format":"string","type":"string"}},"required":["sub","dom","obj","act"],"type":"object"},"uniauth-gf.api.auth.v1.CheckAndExplainRes":{"properties":{"allow":{"format":"bool","type":"boolean"},"reason":{"description":"注意只有 allow = true 的时候才会返回 [4]string, 按顺序依次是 sub, dom, obj, act。","example":"[\"alice\",\"chat_production\",\"platform\",\"entry\"]","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.GetAllQuotaPoolsReq":{"description":"动态获取用户属于哪些配额池。","properties":{"upn":{"description":"Upn","example":"sadt@cuhk.edu.cn","format":"string","type":"string"}},"required":["upn"],"type":"object"},"uniauth-gf.api.auth.v1.GetAllQuotaPoolsRes":{"properties":{"quotaPools":{"description":"QuotaPools 列表。","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.GetAvailableModelForQuotaPoolReq":{"description":"动态获取指定配额池的可用模型。","properties":{"quotaPool":{"description":"QuotaPool","example":"student_pool","format":"string","type":"string"}},"required":["quotaPool"],"type":"object"},"uniauth-gf.api.auth.v1.GetAvailableModelForQuotaPoolRes":{"properties":{"availableModels":{"description":"AvailableModel 列表","example":"['deepseek-r1-ark', 'gpt5-chat']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.auth.v1.GetAllUsersForQuotaPoolReq":{"description":"动态获取指定配额池的用户。","properties":{"quotaPool":{"description":"QuotaPool","example":"student_pool","format":"string","type":"string"}},"required":["quotaPool"],"type":"object"},"uniauth-gf.api.auth.v1.GetAllUsersForQuotaPoolRes":{"properties":{"users":{"description":"Users 列表","example":"['122@link.cuhk.edu.cn', 'sadt@cuhk.edu.cn']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.billing.v1.ExportBillRecordReq":{"description":"导出账单，根据一定的条件。","properties":{"quotaPool":{"description":"配额池","example":"student_pool","format":"string","type":"string"},"svc":{"description":"服务","example":"['chat', 'voice']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"product":{"description":"产品","example":"['chat', 'voice']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"startTime":{"description":"开始时间","example":"2024-01-01","format":"string","type":"string"},"endTime":{"description":"结束时间","example":"2024-01-01","format":"string","type":"string"},"exportType":{"description":"导出类型","enum":["pdf","xlsx"],"example":"pdf","format":"string","type":"string"}},"required":["quotaPool","svc","product","startTime","endTime","exportType"],"type":"object"},"uniauth-gf.api.billing.v1.ExportBillRecordRes":{"properties":{"file":{"description":"账单PDF/XLSX二进制内容","format":"binary","type":"string"}},"type":"object"},"uniauth-gf.api.billing.v1.GetBillRecordReq":{"description":"查询账单，根据一定的条件。","properties":{"quotaPool":{"description":"配额池","example":"student_pool","format":"string","type":"string"},"svc":{"description":"服务","example":"['chat', 'voice']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"product":{"description":"产品","example":"['chat', 'voice']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"startTime":{"description":"开始时间","example":"2024-01-01","format":"string","type":"string"},"endTime":{"description":"结束时间","example":"2024-01-01","format":"string","type":"string"}},"required":["quotaPool","svc","product","startTime","endTime"],"type":"object"},"uniauth-gf.api.billing.v1.GetBillRecordRes":{"properties":{"records":{"format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.billing.v1.CheckBalanceReq":{"description":"根据给定的参数，检查是否可以使用某个产品。","properties":{"upn":{"format":"string","type":"string"},"svc":{"format":"string","type":"string"},"product":{"format":"string","type":"string"},"quotaPool":{"format":"string","type":"string"}},"required":["upn","svc","product","quotaPool"],"type":"object"},"uniauth-gf.api.billing.v1.CheckBalanceRes":{"properties":{"ok":{"format":"bool","type":"boolean"},"err":{"format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.billing.v1.CheckTokensUsageReq":{"description":"检查Tokens使用情况","properties":{"upn":{"format":"string","type":"string"},"quotaPool":{"format":"string","type":"string"}},"required":["upn","quotaPool"],"type":"object"},"uniauth-gf.api.billing.v1.CheckTokensUsageRes":{"properties":{"tokensUsage":{"format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.billing.v1.BillingRecordReq":{"description":"xxxxxxxx计费接口","properties":{"upn":{"format":"string","type":"string"},"service":{"format":"string","type":"string"},"product":{"format":"string","type":"string"},"cny_cost":{"$ref":"#/components/schemas/github.com.shopspring.decimal.Decimal","description":""},"usd_cost":{"$ref":"#/components/schemas/github.com.shopspring.decimal.Decimal","description":""},"detail":{"$ref":"#/components/schemas/github.com.gogf.gf.v2.encoding.gjson.Json","description":""}},"required":["upn","service","product"],"type":"object"},"github.com.shopspring.decimal.Decimal":{"properties":{},"type":"object"},"github.com.gogf.gf.v2.encoding.gjson.Json":{"properties":{},"type":"object"},"uniauth-gf.api.billing.v1.BillingRecordRes":{"properties":{"ok":{"format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.config.v1.DeleteAutoQuotaPoolConfigReq":{"properties":{},"type":"object"},"uniauth-gf.api.config.v1.DeleteAutoQuotaPoolConfigRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.config.v1.GetAutoQuotaPoolConfigReq":{"properties":{},"type":"object"},"uniauth-gf.api.config.v1.GetAutoQuotaPoolConfigRes":{"properties":{"autoQuotaPoolConfigs":{"description":"自动配额池规则","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.config.v1.AddAutoQuotaPoolConfigReq":{"properties":{},"type":"object"},"uniauth-gf.api.config.v1.AddAutoQuotaPoolConfigRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.config.v1.EditAutoQuotaPoolConfigReq":{"properties":{},"type":"object"},"uniauth-gf.api.config.v1.EditAutoQuotaPoolConfigRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.config.v1.DeleteI18ConfigReq":{"description":"删除指定Key的所有语言配置。","properties":{"key":{"description":"键","example":"navBar.title","format":"string","type":"string"}},"required":["key"],"type":"object"},"uniauth-gf.api.config.v1.DeleteI18ConfigRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.config.v1.GetAllLangsReq":{"properties":{},"type":"object"},"uniauth-gf.api.config.v1.GetAllLangsRes":{"properties":{"langs":{"description":"语言列表","example":"['en-US', 'zh-CN']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"uniauth-gf.api.config.v1.AddI18nItemReq":{"description":"添加一项i18n一个语言的配置","properties":{"lang":{"description":"语言","example":"en-US","format":"string","type":"string"},"key":{"description":"键","example":"navBar.title","format":"string","type":"string"},"value":{"description":"值","example":"统一鉴权","format":"string","type":"string"}},"required":["lang","key","value"],"type":"object"},"uniauth-gf.api.config.v1.AddI18nItemRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.config.v1.EditI18nItemReq":{"description":"编辑一项i18n一个语言的配置","properties":{"lang":{"description":"语言","example":"en-US","format":"string","type":"string"},"key":{"description":"键","example":"navBar.title","format":"string","type":"string"},"value":{"description":"值","example":"统一鉴权","format":"string","type":"string"}},"required":["lang","key","value"],"type":"object"},"uniauth-gf.api.config.v1.EditI18nItemRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.config.v1.GetI18nConfigReq":{"description":"获取一个语言的所有翻译配置","properties":{"lang":{"description":"语言","example":"en-US","format":"string","type":"string"}},"required":["lang"],"type":"object"},"uniauth-gf.api.config.v1.GetI18nConfigRes":{"properties":{"config":{"$ref":"#/components/schemas/github.com.gogf.gf.v2.encoding.gjson.Json","description":"配置"}},"type":"object"},"uniauth-gf.api.config.v1.DeleteModelConfigReq":{"properties":{},"type":"object"},"uniauth-gf.api.config.v1.DeleteModelConfigRes":{"properties":{"config":{"description":"配置","format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.config.v1.AddModelConfigReq":{"properties":{},"type":"object"},"uniauth-gf.api.config.v1.AddModelConfigRes":{"properties":{"config":{"description":"配置","format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.config.v1.EditModelConfigReq":{"description":"编辑模型配置。","properties":{},"type":"object"},"uniauth-gf.api.config.v1.EditModelConfigRes":{"properties":{"config":{"description":"配置","format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.config.v1.GetModelConfigReq":{"properties":{},"type":"object"},"uniauth-gf.api.config.v1.GetModelConfigRes":{"properties":{"config":{"description":"配置","format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.hello.v1.HelloReq":{"properties":{},"type":"object"},"uniauth-gf.api.hello.v1.HelloRes":{"example":"string","properties":{},"type":"object"},"uniauth-gf.api.quotaPool.v1.DeleteQuotaPoolReq":{"properties":{},"type":"object"},"uniauth-gf.api.quotaPool.v1.DeleteQuotaPoolRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.quotaPool.v1.GetQuotaPoolReq":{"properties":{},"type":"object"},"uniauth-gf.api.quotaPool.v1.GetQuotaPoolRes":{"properties":{"quotaPool":{"description":"配额池","format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.quotaPool.v1.NewQuotaPoolReq":{"properties":{},"type":"object"},"uniauth-gf.api.quotaPool.v1.NewQuotaPoolRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.quotaPool.v1.EditQuotaPoolReq":{"properties":{},"type":"object"},"uniauth-gf.api.quotaPool.v1.EditQuotaPoolRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.quotaPool.v1.BatchQuotaPoolDisabledReq":{"properties":{"quotaPools":{"description":"配额池","example":"['quotaPool1', 'quotaPool2']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"field":{"description":"字段","example":"disabled","format":"string","type":"string"},"value":{"description":"值","example":true,"format":"bool","type":"boolean"}},"required":["quotaPools","field","value"],"type":"object"},"uniauth-gf.api.quotaPool.v1.BatchQuotaPoolDisabledRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"},"err":{"description":"错误信息","format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.quotaPool.v1.ResetBalanceReq":{"properties":{"quotaPool":{"description":"配额池","example":"student_pool","format":"string","type":"string"}},"required":["quotaPool"],"type":"object"},"uniauth-gf.api.quotaPool.v1.ResetBalanceRes":{"properties":{"ok":{"description":"是否成功","format":"bool","type":"boolean"},"err":{"description":"错误信息","format":"string","type":"string"}},"type":"object"},"uniauth-gf.api.userinfos.v1.GetOneReq":{"description":"根据UPN，返回用户的所有信息。","properties":{"upn":{"description":"UPN","example":"sadt@cuhk.edu.cn","format":"string","type":"string"}},"required":["upn"],"type":"object"},"uniauth-gf.api.userinfos.v1.GetOneRes":{"properties":{"upn":{"description":"UPN - 唯一。用户名@cuhk.edu.cn 或 学号@link.cuhk.edu.cn。用户登录名。","example":"122020255@link.cuhk.edu.cn","format":"string","type":"string"},"email":{"description":"邮箱 - 唯一。用户名@cuhk.edu.cn。","format":"string","type":"string"},"displayName":{"description":"显示名 - 显示名。","format":"string","type":"string"},"schoolStatus":{"description":"在校状态 - 当前在校状态：Employed | Dimission | In-School | Graduation | Withdraw | Emeritus. （在岗 | 离职 | 在校 | 毕业 | 退学 | 荣誉退休。）","format":"string","type":"string"},"identityType":{"description":"身份 - 身份类型：Fulltime | CO | Student | Parttime。（全职 | 附属单位 | 学生 | 兼职。）","format":"string","type":"string"},"employeeId":{"description":"员工/学号 - 唯一。6位员工编号或9/10位学号。","format":"string","type":"string"},"name":{"description":"全名 - 唯一。全名。","format":"string","type":"string"},"tags":{"description":"标签 - 用户标签。","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"department":{"description":"部门 - 部门信息。","format":"string","type":"string"},"title":{"description":"职务 - 职务名称。","format":"string","type":"string"},"office":{"description":"办公室 - 办公地点。","format":"string","type":"string"},"officePhone":{"description":"办公电话 - 办公室电话。","format":"string","type":"string"},"employeeType":{"description":"员工类型 - 员工类型。","format":"string","type":"string"},"fundingTypeOrAdmissionYear":{"description":"经费类型/入学年份 - 教职员经费类型（uni/researchPro/Other）或学生4位入学年份","format":"string","type":"string"},"studentCategoryPrimary":{"description":"学历大类 - Postgraduate/Undergraduate 研究生/本科生","format":"string","type":"string"},"studentCategoryDetail":{"description":"学历细类 - Master/Ph.D./Undergraduate 硕士/博士/本科","format":"string","type":"string"},"studentNationalityType":{"description":"学生类别 - Local/Exchange/International/CUCDMP/HMT 本地/交换/国际/本部/港澳台","format":"string","type":"string"},"residentialCollege":{"description":"书院 - 书院缩写（如SHAW）","format":"string","type":"string"},"staffRole":{"description":"教职员角色 - Teaching/Admin/VisitingStudent/Alumni/Other 教学/行政/访问学生/校友/其他","format":"string","type":"string"},"samAccountName":{"description":"SAM账户名 - Windows账户名。","format":"string","type":"string"},"mailNickname":{"description":"邮件别名 - 邮箱别名。","format":"string","type":"string"},"createdAt":{"description":"创建时间 - 记录创建时间。","format":"*gtime.Time","type":"string"},"updatedAt":{"description":"更新时间 - 记录最后更新时间。","format":"*gtime.Time","type":"string"}},"type":"object"},"uniauth-gf.api.userinfos.v1.FilterReq":{"description":"根据过滤条件，返回用户的所有信息。支持复杂条件查询、排序和分页。","properties":{"filter":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.FilterGroup","description":"过滤条件，支持复杂的逻辑组合查询"},"sort":{"description":"排序条件，支持多字段排序","format":"[]*v1.SortCondition","items":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.SortCondition","description":""},"type":"array"},"pagination":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.PaginationReq","description":"分页参数，支持分页或查询全部"},"verbose":{"description":"是否返回详细用户信息，false时仅返回UPN列表","format":"bool","type":"boolean"}},"required":["filter"],"type":"object"},"uniauth-gf.api.userinfos.v1.FilterGroup":{"properties":{"logic":{"description":"逻辑关系: and(且), or(或)","enum":["and","or"],"format":"string","type":"string"},"conditions":{"description":"过滤条件列表","format":"[]*v1.FilterCondition","items":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.FilterCondition","description":""},"type":"array"},"groups":{"description":"嵌套的条件组，支持复杂逻辑","format":"[]*v1.FilterGroup","items":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.FilterGroup","description":""},"type":"array"}},"type":"object"},"uniauth-gf.api.userinfos.v1.FilterCondition":{"properties":{"field":{"description":"字段名","format":"string","maxLength":50,"minLength":1,"type":"string"},"op":{"description":"操作符: eq(等于), neq(不等于), gt(大于), gte(大于等于), lt(小于), lte(小于等于), like(模糊匹配), ilike(不区分大小写模糊匹配), in(包含), notin(不包含), contains(包含子串), notcontains(不包含子串), startswith(以...开头), endswith(以...结尾), isnull(为空), isnotnull(不为空)","enum":["eq","neq","gt","gte","lt","lte","like","ilike","in","notin","contains","notcontains","startswith","endswith","isnull","isnotnull"],"format":"string","type":"string"},"value":{"$ref":"#/components/schemas/github.com.gogf.gf.v2.container.gvar.Var","description":"条件值，根据操作符类型可以是字符串、数字、数组等"}},"required":["field","op"],"type":"object"},"github.com.gogf.gf.v2.container.gvar.Var":{"properties":{},"type":"object"},"uniauth-gf.api.userinfos.v1.SortCondition":{"properties":{"field":{"description":"排序字段","format":"string","maxLength":50,"minLength":1,"type":"string"},"order":{"description":"排序方向: asc(升序), desc(降序)","enum":["asc","desc"],"format":"string","type":"string"}},"required":["field"],"type":"object"},"uniauth-gf.api.userinfos.v1.PaginationReq":{"properties":{"page":{"default":1,"description":"页码，从1开始","format":"int","minimum":1,"type":"integer"},"pageSize":{"default":20,"description":"每页条数，最大1000","format":"int","maximum":1000,"minimum":1,"type":"integer"},"all":{"description":"是否返回全部数据，true时忽略分页参数，但仍有最大限制保护","format":"bool","type":"boolean"}},"type":"object"},"uniauth-gf.api.userinfos.v1.FilterRes":{"properties":{"userUpns":{"description":"用户UPN列表","example":"['122020255@link.cuhk.edu.cn']","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"userInfos":{"description":"详细用户信息（verbose=true时返回）","format":"[]v1.GetOneRes","items":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.GetOneRes","description":""},"type":"array"},"total":{"description":"总记录数","format":"int","type":"integer"},"page":{"description":"当前页码","format":"int","type":"integer"},"pageSize":{"description":"每页条数","format":"int","type":"integer"},"totalPages":{"description":"总页数","format":"int","type":"integer"},"isAll":{"description":"是否为全部数据查询","format":"bool","type":"boolean"}},"type":"object"}}},"info":{"title":"","version":""},"paths":{"/auth/admin/actions/all":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.GetAllActionsRes","description":""}}},"description":""}},"summary":"获取所有Actions","tags":["Auth/Admin/Query"]}},"/auth/admin/domains/all":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.GetAllDomainsRes","description":""}}},"description":""}},"summary":"获取所有 Domains","tags":["Auth/Admin/Query"]}},"/auth/admin/groupings/filter":{"post":{"description":"根据给定的条件，返回 Grouping Polices 角色继承关系。留空的字段（传空 Array）将被忽略。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.FilterGroupingsReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.FilterGroupingsRes","description":""}}},"description":""}},"summary":"筛选 Grouping Polices","tags":["Auth/Admin/Query"]}},"/auth/admin/objects/all":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.GetAllObjectsRes","description":""}}},"description":""}},"summary":"获取所有Objects","tags":["Auth/Admin/Query"]}},"/auth/admin/policies/add":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.AddPoliciesReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.AddPoliciesRes","description":""}}},"description":""}},"summary":"添加 Policies","tags":["Auth/Admin/CRUD"]}},"/auth/admin/policies/delete":{"post":{"description":"删除 Policies。原子性操作，当规则中有一条和数据库中的规则不匹配，立即回滚所有操作并返回错误。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.DeletePoliciesReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.DeletePoliciesRes","description":""}}},"description":""}},"summary":"删除 Policies","tags":["Auth/Admin/CRUD"]}},"/auth/admin/policies/edit":{"post":{"description":"编辑 Policy。需要提供老的 Policy。\u003cbr\u003e注意顺序是 Sub Dom Obj Act。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.EditPolicyReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.EditPolicyRes","description":""}}},"description":""}},"summary":"编辑 Policy","tags":["Auth/Admin/CRUD"]}},"/auth/admin/policies/filter":{"post":{"description":"根据给定的条件，返回Policy。留空的字段（传空 Array）将被忽略。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.FilterPoliciesReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.FilterPoliciesRes","description":""}}},"description":""}},"summary":"筛选 Policies","tags":["Auth/Admin/Query"]}},"/auth/admin/roles/all":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.GetAllRolesRes","description":""}}},"description":""}},"summary":"获取所有 Roles","tags":["Auth/Admin/Query"]}},"/auth/admin/subjects/all":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.GetAllSubjectsRes","description":""}}},"description":""}},"summary":"获取所有Subjects","tags":["Auth/Admin/Query"]}},"/auth/check":{"post":{"description":"给定sub obj act dom，查询是否有权限。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.CheckReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.CheckRes","description":""}}},"description":""}},"summary":"基础权限检查","tags":["Auth"]}},"/auth/checkEx":{"post":{"description":"给定sub obj act dom，如果允许，返回使其允许的规则。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.CheckAndExplainReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.CheckAndExplainRes","description":""}}},"description":""}},"summary":"解释权限来源","tags":["Auth"]}},"/auth/quotaPools/all":{"get":{"description":"动态获取用户属于哪些配额池。","parameters":[{"description":"Upn","example":"sadt@cuhk.edu.cn","in":"query","name":"upn","required":true,"schema":{"description":"Upn","example":"sadt@cuhk.edu.cn","format":"string","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.GetAllQuotaPoolsRes","description":""},"examples":{"手动创建的配额池情况":{"value":{"code":0,"data":["student_pool","staff_pool"],"message":"OK"}},"自动创建的配额池情况":{"value":{"code":0,"data":["122020255@link.cuhk.edu.cn","st_itsa-noreply@link.cuhk.edu.cn"],"message":"OK"}}}}},"description":""}},"summary":"获取所属配额池","tags":["Auth"]}},"/auth/quotaPools/models":{"get":{"description":"动态获取指定配额池的可用模型。","parameters":[{"description":"QuotaPool","example":"student_pool","in":"query","name":"quotaPool","required":true,"schema":{"description":"QuotaPool","example":"student_pool","format":"string","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.GetAvailableModelForQuotaPoolRes","description":""}}},"description":""}},"summary":"获取所属配额池的可用模型","tags":["Auth"]}},"/auth/quotaPools/users":{"get":{"description":"动态获取指定配额池的用户。","parameters":[{"description":"QuotaPool","example":"student_pool","in":"query","name":"quotaPool","required":true,"schema":{"description":"QuotaPool","example":"student_pool","format":"string","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.auth.v1.GetAllUsersForQuotaPoolRes","description":""}}},"description":""}},"summary":"获取所属配额池的用户","tags":["Auth"]}},"/billing/admin/export":{"post":{"description":"导出账单，根据一定的条件。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.ExportBillRecordReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.ExportBillRecordRes","description":""}}},"description":""}},"summary":"导出账单","tags":["Billing/Admin"]}},"/billing/admin/get":{"post":{"description":"查询账单，根据一定的条件。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.GetBillRecordReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.GetBillRecordRes","description":""}}},"description":""}},"summary":"查询账单","tags":["Billing/Admin"]}},"/billing/check":{"post":{"description":"根据给定的参数，检查是否可以使用某个产品。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.CheckBalanceReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.CheckBalanceRes","description":""}}},"description":""}},"summary":"检查是否可以使用某个产品","tags":["Billing"]}},"/billing/checkTokensUsage":{"post":{"description":"检查Tokens使用情况","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.CheckTokensUsageReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.CheckTokensUsageRes","description":""}}},"description":""}},"summary":"检查Tokens使用情况","tags":["Billing"]}},"/billing/record":{"post":{"description":"xxxxxxxx计费接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.BillingRecordReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.billing.v1.BillingRecordRes","description":""}}},"description":""}},"summary":"计费接口","tags":["Billing"]}},"/config/autoConfig":{"delete":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.DeleteAutoQuotaPoolConfigRes","description":""}}},"description":""}},"summary":"删除自动配额池规则","tags":["Config/AutoQuotaPoolConfig"]},"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.GetAutoQuotaPoolConfigRes","description":""}}},"description":""}},"summary":"获取自动配额池规则","tags":["Config/AutoQuotaPoolConfig"]},"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.AddAutoQuotaPoolConfigReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.AddAutoQuotaPoolConfigRes","description":""}}},"description":""}},"summary":"新增自动配额池规则","tags":["Config/AutoQuotaPoolConfig"]},"put":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.EditAutoQuotaPoolConfigReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.EditAutoQuotaPoolConfigRes","description":""}}},"description":""}},"summary":"编辑自动配额池规则","tags":["Config/AutoQuotaPoolConfig"]}},"/config/i18n":{"delete":{"description":"删除指定Key的所有语言配置。","parameters":[{"description":"键","example":"navBar.title","in":"query","name":"key","required":true,"schema":{"description":"键","example":"navBar.title","format":"string","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.DeleteI18ConfigRes","description":""}}},"description":""}},"summary":"删除i18n","tags":["Config/I18n"]},"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.GetAllLangsRes","description":""}}},"description":""}},"summary":"获取所有语言的列表","tags":["Config/I18n"]},"post":{"description":"添加一项i18n一个语言的配置","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.AddI18nItemReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.AddI18nItemRes","description":""}}},"description":""}},"summary":"添加i18n","tags":["Config/I18n"]},"put":{"description":"编辑一项i18n一个语言的配置","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.EditI18nItemReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.EditI18nItemRes","description":""}}},"description":""}},"summary":"编辑i18n","tags":["Config/I18n"]}},"/config/i18n/:lang":{"get":{"description":"获取一个语言的所有翻译配置","parameters":[{"description":"语言","example":"en-US","in":"query","name":"lang","required":true,"schema":{"description":"语言","example":"en-US","format":"string","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.GetI18nConfigRes","description":""}}},"description":""}},"summary":"获取i18n","tags":["Config/I18n"]}},"/config/model":{"delete":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.DeleteModelConfigRes","description":""}}},"description":""}},"summary":"删除模型配置","tags":["Config/Model"]},"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.AddModelConfigReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.AddModelConfigRes","description":""}}},"description":""}},"summary":"添加模型配置","tags":["Config/Model"]},"put":{"description":"编辑模型配置。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.EditModelConfigReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.EditModelConfigRes","description":""}}},"description":""}},"summary":"编辑模型配置","tags":["Config/Model"]}},"/config/model/all":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.config.v1.GetModelConfigRes","description":""}}},"description":""}},"summary":"获取配置","tags":["Config/Model"]}},"/hello":{"get":{"responses":{"200":{"content":{"text/html":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.hello.v1.HelloRes","description":""}}},"description":""}},"summary":"You first hello api","tags":["Hello"]}},"/quotaPool":{"delete":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.DeleteQuotaPoolRes","description":""}}},"description":""}},"summary":"删除配额池","tags":["QuotaPool"]},"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.GetQuotaPoolRes","description":""}}},"description":""}},"summary":"获取配额池的详细配置","tags":["QuotaPool"]},"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.NewQuotaPoolReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.NewQuotaPoolRes","description":""}}},"description":""}},"summary":"新建配额池","tags":["QuotaPool"]},"put":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.EditQuotaPoolReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.EditQuotaPoolRes","description":""}}},"description":""}},"summary":"编辑配额池","tags":["QuotaPool"]}},"/quotaPool/admin/batchModify":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.BatchQuotaPoolDisabledReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.BatchQuotaPoolDisabledRes","description":""}}},"description":""}},"summary":"批量修改配额池","tags":["QuotaPool/Admin"]}},"/quotaPool/admin/resetBalance":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.ResetBalanceReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.quotaPool.v1.ResetBalanceRes","description":""}}},"description":""}},"summary":"重置配额池","tags":["QuotaPool/Admin"]}},"/userinfos":{"get":{"description":"根据UPN，返回用户的所有信息。","parameters":[{"description":"UPN","example":"sadt@cuhk.edu.cn","in":"query","name":"upn","required":true,"schema":{"description":"UPN","example":"sadt@cuhk.edu.cn","format":"string","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.GetOneRes","description":""}}},"description":""}},"summary":"查询用户信息","tags":["UserInfo"]}},"/userinfos/filter":{"post":{"description":"根据过滤条件，返回用户的所有信息。支持复杂条件查询、排序和分页。","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.FilterReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/uniauth-gf.api.userinfos.v1.FilterRes","description":""}}},"description":""}},"summary":"自定义筛选用户信息","tags":["UserInfo"]}}}}