# UniAuth Admin ç®¡ç†åå°

UniAuth ç»Ÿä¸€è®¤è¯ç³»ç»Ÿçš„ç®¡ç†åå°ï¼ŒåŸºäº [Ant Design Pro](https://pro.ant.design) æ„å»ºçš„ä¼ä¸šçº§ä¸­åå°å‰ç«¯è§£å†³æ–¹æ¡ˆã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

UniAuth Admin æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æƒé™ç®¡ç†ç³»ç»Ÿå‰ç«¯ï¼Œæä¾›ç”¨æˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ã€é…é¢æ± ç®¡ç†ã€è®¡è´¹ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

### ğŸš€ ä¸»è¦åŠŸèƒ½

- **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢ã€ç­›é€‰å’Œç®¡ç†
- **æƒé™æ§åˆ¶**: åŸºäº Casbin çš„æƒé™ç­–ç•¥ç®¡ç†
- **é…é¢æ± ç®¡ç†**: AI æ¨¡å‹é…é¢åˆ†é…å’Œç®¡ç†
- **è®¡è´¹ç³»ç»Ÿ**: ä½¿ç”¨è®°å½•å’Œè´¦å•ç®¡ç†
- **å¤šè¯­è¨€æ”¯æŒ**: ä¸­è‹±æ–‡å›½é™…åŒ–
- **è‡ªåŠ¨é…ç½®**: é…é¢æ± è‡ªåŠ¨åˆ†é…é…ç½®

### ğŸ›  æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 19 + UmiJS 4
- **UI ç»„ä»¶**: Ant Design 5.x + Ant Design Pro Components
- **çŠ¶æ€ç®¡ç†**: UmiJS Model
- **æ„å»ºå·¥å…·**: UmiJS Max + Mako
- **ä»£ç è§„èŒƒ**: Biome + TypeScript
- **æµ‹è¯•**: Jest + Testing Library
- **åŒ…ç®¡ç†**: pnpm (å¿…é¡»ä½¿ç”¨)

## ğŸ“¦ ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 20.0.0
- **åŒ…ç®¡ç†å™¨**: è¯·ä¸€å®šä»…ä½¿ç”¨ pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨ 

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

> âš ï¸ **é‡è¦**: æœ¬é¡¹ç›®å¿…é¡»ä½¿ç”¨ pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨ï¼Œä¸è¦æ··ç”¨ npm æˆ– yarn

```bash
# å®‰è£… pnpm (å¦‚æœå°šæœªå®‰è£…)
npm install -g pnpm

# å®‰è£…é¡¹ç›®ä¾èµ–
pnpm install
```

### å¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (é»˜è®¤ç«¯å£ 8000)
pnpm start

# æˆ–è€…ä½¿ç”¨å¼€å‘ç¯å¢ƒé…ç½®å¯åŠ¨
pnpm run dev
```

### ä¸åŒç¯å¢ƒå¯åŠ¨

```bash
# å¼€å‘ç¯å¢ƒ (å¸¦ Mock æ•°æ®)
pnpm start

# å¼€å‘ç¯å¢ƒ (ä¸ä½¿ç”¨ Mock)
pnpm run start:no-mock

# æµ‹è¯•ç¯å¢ƒ
pnpm run start:test

# é¢„å‘å¸ƒç¯å¢ƒ
pnpm run start:pre
```

## ğŸ“œ å¯ç”¨è„šæœ¬

### å¼€å‘ç›¸å…³

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm start

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm run preview

```

### ä»£ç è´¨é‡

```bash
# ä»£ç æ£€æŸ¥ (Biome + TypeScript)
pnpm run lint

# ä»… Biome æ£€æŸ¥
pnpm run biome:lint

# TypeScript ç±»å‹æ£€æŸ¥
pnpm run tsc
```

### æµ‹è¯•ç›¸å…³

```bash
# è¿è¡Œæµ‹è¯•
pnpm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm run test:coverage

# æ›´æ–°æµ‹è¯•å¿«ç…§
pnpm run test:update
```

### API ç›¸å…³

```bash
# ç”Ÿæˆ API æ¥å£ä»£ç 
pnpm run openapi

# å›½é™…åŒ–æ–‡æœ¬æ¸…ç†
pnpm run i18n-remove
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
uniauth-admin/
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ api.json            # OpenAPI è§„èŒƒæ–‡ä»¶
â”‚   â”œâ”€â”€ config.ts           # UmiJS ä¸»é…ç½®
â”‚   â”œâ”€â”€ defaultSettings.ts  # é»˜è®¤è®¾ç½®
â”‚   â”œâ”€â”€ proxy.ts            # ä»£ç†é…ç½®
â”‚   â””â”€â”€ routes.ts           # è·¯ç”±é…ç½®
â”œâ”€â”€ mock/                   # Mock æ•°æ®
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ locales/           # å›½é™…åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ services/          # API æœåŠ¡
â”‚   â”œâ”€â”€ app.tsx            # åº”ç”¨å…¥å£é…ç½®
â”‚   â””â”€â”€ global.tsx         # å…¨å±€é…ç½®
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼Œé€šè¿‡ `REACT_APP_ENV` ç¯å¢ƒå˜é‡æ§åˆ¶ï¼š

- `dev`: å¼€å‘ç¯å¢ƒ (é»˜è®¤)
- `test`: æµ‹è¯•ç¯å¢ƒ
- `pre`: é¢„å‘å¸ƒç¯å¢ƒ

### ä»£ç†é…ç½®

å¼€å‘ç¯å¢ƒä¸‹çš„ API ä»£ç†é…ç½®åœ¨ `config/proxy.ts` ä¸­ï¼Œæ”¯æŒä¸åŒç¯å¢ƒçš„åç«¯æœåŠ¡åœ°å€é…ç½®ã€‚

### OpenAPI é›†æˆ

é¡¹ç›®é›†æˆäº† OpenAPI è‡ªåŠ¨ç”ŸæˆåŠŸèƒ½ï¼ŒAPI æ¥å£å®šä¹‰åœ¨ `config/api.json` ä¸­ï¼Œè¿è¡Œ `pnpm run openapi` å¯è‡ªåŠ¨ç”Ÿæˆç±»å‹å®šä¹‰å’Œè¯·æ±‚æ–¹æ³•ã€‚

## ğŸŒ å›½é™…åŒ–

é¡¹ç›®æ”¯æŒä¸­è‹±æ–‡åŒè¯­ï¼š

- ä¸­æ–‡: `src/locales/zh-CN/`
- è‹±æ–‡: `src/locales/en-US/`

é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡ï¼Œä¼šæ ¹æ®æµè§ˆå™¨è¯­è¨€è‡ªåŠ¨åˆ‡æ¢ã€‚

## ğŸš€ éƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm run build
```

æ„å»ºäº§ç‰©åœ¨ `dist/` ç›®å½•ä¸‹ã€‚

## ğŸ¤ å¼€å‘æŒ‡å—

1. ç¡®ä¿ä½¿ç”¨ pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨
2. éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒå’Œæäº¤è§„èŒƒ
3. æ–°å¢ API æ¥å£æ—¶æ›´æ–° `config/api.json` å¹¶è¿è¡Œ `pnpm run openapi`
5. å›½é™…åŒ–æ–‡æœ¬ç»Ÿä¸€ç®¡ç†åœ¨ `locales/` ç›®å½•ä¸‹

## æ–°å¢é¡µé¢æŒ‡å—

åœ¨ UniAuth Admin ä¸­æ–°å¢é¡µé¢éœ€è¦éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### 1. åˆ›å»ºé¡µé¢ç»„ä»¶

åœ¨ `src/pages/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„é¡µé¢ç›®å½•å’Œç»„ä»¶æ–‡ä»¶ï¼š

```bash
# åˆ›å»ºé¡µé¢ç›®å½•
mkdir src/pages/YourPageName

# åˆ›å»ºé¡µé¢ç»„ä»¶æ–‡ä»¶
touch src/pages/YourPageName/index.tsx
```

### 2. é…ç½®è·¯ç”±

åœ¨ `config/routes.ts` ä¸­æ·»åŠ æ–°çš„è·¯ç”±é…ç½®ï¼š

```typescript
{
  path: '/your-page-path',
  name: 'your-page-name',
  icon: 'YourIcon', // å‚è€ƒ Ant Design Icons
  component: '@/pages/YourPageName',
}
```

è·¯ç”±é…ç½®å‚æ•°è¯´æ˜ï¼š
- `path`: é¡µé¢è®¿é—®è·¯å¾„
- `name`: è·¯ç”±åç§°ï¼Œç”¨äºå›½é™…åŒ–é…ç½®
- `icon`: èœå•å›¾æ ‡ï¼Œå»é™¤ `Outlined` åç¼€å’Œå¤§å°å†™
- `component`: é¡µé¢ç»„ä»¶è·¯å¾„ï¼Œä½¿ç”¨ `@/` æŒ‡å‘ `src/` ç›®å½•

### 3. æ·»åŠ å›½é™…åŒ–é…ç½®

åœ¨å›½é™…åŒ–æ–‡ä»¶ä¸­æ·»åŠ èœå•é¡¹ç¿»è¯‘ï¼š

**ä¸­æ–‡** (`src/locales/zh-CN/menu.ts`)ï¼š
```typescript
export default {
  // ... å…¶ä»–é…ç½®
  'menu.your-page-name': 'ä½ çš„é¡µé¢åç§°',
};
```

**è‹±æ–‡** (`src/locales/en-US/menu.ts`)ï¼š
```typescript
export default {
  // ... å…¶ä»–é…ç½®
  'menu.your-page-name': 'Your Page Name',
};
```

### 4. æ³¨æ„äº‹é¡¹

- é¡µé¢ç»„ä»¶åç§°ä½¿ç”¨ PascalCase å‘½å
- è·¯ç”±è·¯å¾„ä½¿ç”¨ kebab-case å‘½å
- ç¡®ä¿æ·»åŠ ç›¸åº”çš„å›½é™…åŒ–é…ç½®
- éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒå’Œ TypeScript ç±»å‹å®šä¹‰
- ä½¿ç”¨ ProComponents æä¾›çš„ç»„ä»¶ä»¥ä¿æŒç•Œé¢ä¸€è‡´æ€§


## ğŸ”— ç›¸å…³é“¾æ¥

- [Ant Design Pro å®˜æ–¹æ–‡æ¡£](https://pro.ant.design)
- [UmiJS å®˜æ–¹æ–‡æ¡£](https://umijs.org)
- [Ant Design å®˜æ–¹æ–‡æ¡£](https://ant.design)
- [pro components å®˜æ–¹æ–‡æ¡£](https://procomponents.ant.design/)

